<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>pydeck</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js'></script>
<link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />    <style>
    body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#deck-map-container {
  width: 100%;
  height: 100%;
  background-color: black;
}

#map {
  pointer-events: none;
  height: 100%;
  width: 100%;
  position: absolute;
  z-index: 1;
}

#deckgl-overlay {
  z-index: 2;
}

#deck-map-wrapper {
  width: 100%;
  height: 100%;
}

#deck-container {
  width: 100vw;
  height: 100vh;
}    </style>
  </head>
  <body>
    <div id="deck-container">
    </div>
  </body>
  <script>
  const DEPENDENCIES = {
  "map": {
    "*": {
      "@deck.gl/jupyter-widget": "nbextensions/pydeck/index"
    }
  },
  "paths": {
    "deck.gl": "https://unpkg.com/deck.gl@~7.3.0-beta.8/dist.min",
    "mapbox-gl": "https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl",
    "h3": "https://unpkg.com/h3-js@^3.4.3/dist/h3-js.umd",
    "s2Geometry": "https://bundle.run/s2-geometry@1.2.10?name=index",
    "loaders.gl/csv": "https://unpkg.com/@loaders.gl/csv@1.2.2/dist/dist.min",
    "nbextensions/pydeck": "https://unpkg.com/@deck.gl/jupyter-widget@~7.3.0-beta.8/dist"
  }
};
const jsonInput = {"initialViewState": {"bearing": -27.36, "latitude": 43.6532, "longitude": -79.3832, "maxZoom": 15, "minZoom": 5, "pitch": 40.5, "zoom": 8}, "layers": [{"autoHighlight": true, "data": "https://raw.githubusercontent.com/tylrtnguyen/ontario-house-price-analysing/visualization/houses.json", "getFillColor": "final_price > 800000 ? [200, 0, 40, 150] : [255, 140, 0, 100]", "getPosition": "[long, lat]", "getRadius": 100, "id": "194ef29f-aee0-42db-a5c9-1207a812f63c", "pickable": true, "type": "ScatterplotLayer"}, {"data": "https://raw.githubusercontent.com/tylrtnguyen/ontario-house-price-analysing/visualization/houses.json", "getPosition": "[long, lat]", "getRadius": 100, "getWeight": "final_price", "id": "f7ff6fb4-2bd7-49ba-b16f-0cd85bf83b47", "type": "HeatmapLayer"}], "mapStyle": "mapbox://styles/bathong1706/ck4pxwwel3cl91cqluouq76dc", "views": [{"controller": true, "type": "MapView"}]};
const MAPBOX_API_KEY = 'pk.eyJ1IjoiYmF0aG9uZzE3MDYiLCJhIjoiY2s4ODBob3drMDB5YjNkbjVnOHQybzN6OCJ9.eJtDSXNQmGw2UxfTVQikhg';
const tooltip = true;

define('@jupyter-widgets/base', function() {
  return {
    DOMWidgetModel: function() {},
    DOMWidgetView: function() {}
  };
});

requirejs.config(DEPENDENCIES);

requirejs(['@deck.gl/jupyter-widget'], (root) => {
  const deck = root.initDeck({
    mapboxApiKey: MAPBOX_API_KEY, 
    container: document.getElementById('deck-container'),
    jsonInput,
    tooltip
  });
})  </script>
</html>